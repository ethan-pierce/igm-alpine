2023-07-04 03:11:20.988100: I tensorflow/core/platform/cpu_feature_guard.cc:142] This TensorFlow binary is optimized with oneAPI Deep Neural Network Library (oneDNN) to use the following CPU instructions in performance-critical operations:  SSE4.1 SSE4.2 AVX AVX2 FMA
To enable them in other operations, rebuild TensorFlow with the appropriate compiler flags.
2023-07-04 03:11:21.491956: I tensorflow/compiler/mlir/mlir_graph_optimization_pass.cc:116] None of the MLIR optimization passes are enabled (registered 2)
2023-07-04 03:11:21.504589: I tensorflow/core/platform/profile_utils/cpu_utils.cc:112] CPU Frequency: 2794895000 Hz
/projects/etpi5866/igm/src/igm.py:3157: RuntimeWarning: invalid value encountered in divide
  costs[:, i] /= np.max(costs[:, i])
Build IGM class
+++++++++++++++++++ START IGM ++++++++++++++++++++++++++++++++++++++++++
PARAMETERS ARE ...... 
                   working_dir : 
                  geology_file : geology.nc
                      resample : 1
                        tstart : 0.0
                          tend : 100.0
                restartingfile : 
                     verbosity : 0
                         tsave : 10
                   plot_result : False
                     plot_live : False
                        usegpu : True
                          stop : False
              init_strflowctrl : 78.0
                init_slidingco : 0
                init_arrhenius : 78
                            dz : 20
                        maxthk : 1000.0
              clim_update_freq : 1
                  type_climate : 
               erosion_include : False
                   erosion_cst : 2.7e-07
                   erosion_exp : 2
           erosion_update_freq : 100
                uplift_include : False
                   uplift_rate : 0.002
            uplift_update_freq : 100
        iceflow_model_lib_path : /projects/etpi5866/igm/model-lib/f15_cfsflow_GJ_22_a/50
          multiple_window_size : 0
              force_max_velbar : 0
                      optimize : False
             opti_vars_to_save : ['topg', 'usurf', 'thk', 'strflowctrl', 'arrhenius', 'slidingco', 'velsurf_mag', 'velsurfobs_mag', 'divflux', 'uvelbase', 'vvelbase', 'uvelsurf', 'vvelsurf']
              observation_file : ../../../inputs/observation.nc
             thk_profiles_file : 
                     mode_opti : thkstrflowctrl
          opti_thr_strflowctrl : 78.0
            opti_init_zero_thk : False
           opti_regu_param_thk : 10.0
   opti_regu_param_strflowctrl : 5.0
 opti_smooth_anisotropy_factor : 0.2
         opti_convexity_weight : 0.002
             opti_usurfobs_std : 5.0
          opti_strflowctrl_std : 20.0
           opti_velsurfobs_std : 3.0
               opti_thkobs_std : 15.0
           opti_divfluxobs_std : 1.0
                  opti_control : ['thk', 'strflowctrl', 'usurf']
                     opti_cost : ['velsurf', 'thk', 'usurf', 'icemask']
                  opti_nbitmin : 50
                  opti_nbitmax : 2000
                opti_step_size : 0.001
       opti_make_holes_in_data : 0
              opti_output_freq : 50
        geology_optimized_file : geology-optimized.nc
                  vars_to_save : ['topg', 'usurf', 'thk', 'smb', 'velbar_mag', 'velsurf_mag']
                       varplot : velbar_mag
                   varplot_max : 500
                mb_update_freq : 1
             type_mass_balance : simple
                    mb_scaling : 1.0
                mb_simple_file : mb_simple_param.txt
            smb_model_lib_path : ../../model-lib/smb_meteoswissglamos
    smoothing_thk_filter_shape : 3
           smoothing_thk_sigma : 3
     smoothing_thk_update_freq : 100
                           cfl : 0.3
                         dtmax : 10.0
               tracking_method : 3d
             frequency_seeding : 10
               density_seeding : 0.2
 OPTI, step     0 , ICE_VOL:   24.83 , COST_U:   72.65 , COST_H:    0.00 , COST_D :    0.00 , COST_S :    0.00 , REGU_H :  -18.75 , REGU_A :    0.00 
 OPTI, step    50 , ICE_VOL:   25.62 , COST_U:   45.32 , COST_H:    1.79 , COST_D :    0.00 , COST_S :    0.09 , REGU_H :  -58.18 , REGU_A :    0.42 
 OPTI, step   100 , ICE_VOL:   26.84 , COST_U:   39.45 , COST_H:    4.18 , COST_D :    0.00 , COST_S :    0.28 , REGU_H :  -69.73 , REGU_A :    0.51 
 OPTI, step   150 , ICE_VOL:   27.96 , COST_U:   34.52 , COST_H:    6.44 , COST_D :    0.00 , COST_S :    0.54 , REGU_H :  -75.32 , REGU_A :    0.60 
 OPTI, step   200 , ICE_VOL:   28.87 , COST_U:   30.45 , COST_H:    8.21 , COST_D :    0.00 , COST_S :    0.84 , REGU_H :  -78.78 , REGU_A :    0.63 
 OPTI, step   250 , ICE_VOL:   29.57 , COST_U:   26.81 , COST_H:    9.57 , COST_D :    0.00 , COST_S :    1.13 , REGU_H :  -81.09 , REGU_A :    0.62 
 OPTI, step   300 , ICE_VOL:   30.09 , COST_U:   23.84 , COST_H:   10.60 , COST_D :    0.00 , COST_S :    1.41 , REGU_H :  -82.84 , REGU_A :    0.59 
 OPTI, step   350 , ICE_VOL:   30.48 , COST_U:   21.15 , COST_H:   11.36 , COST_D :    0.00 , COST_S :    1.68 , REGU_H :  -84.15 , REGU_A :    0.57 
 OPTI, step   400 , ICE_VOL:   30.76 , COST_U:   18.93 , COST_H:   11.94 , COST_D :    0.00 , COST_S :    1.92 , REGU_H :  -85.11 , REGU_A :    0.55 
 OPTI, step   450 , ICE_VOL:   30.95 , COST_U:   17.23 , COST_H:   12.37 , COST_D :    0.00 , COST_S :    2.14 , REGU_H :  -85.85 , REGU_A :    0.54 
 OPTI, step   500 , ICE_VOL:   31.08 , COST_U:   15.92 , COST_H:   12.65 , COST_D :    0.00 , COST_S :    2.33 , REGU_H :  -86.43 , REGU_A :    0.51 
 OPTI, step   550 , ICE_VOL:   31.16 , COST_U:   14.92 , COST_H:   12.85 , COST_D :    0.00 , COST_S :    2.49 , REGU_H :  -86.89 , REGU_A :    0.48 
 OPTI, step   600 , ICE_VOL:   31.22 , COST_U:   14.12 , COST_H:   12.99 , COST_D :    0.00 , COST_S :    2.63 , REGU_H :  -87.26 , REGU_A :    0.45 
 OPTI, step   650 , ICE_VOL:   31.26 , COST_U:   13.48 , COST_H:   13.10 , COST_D :    0.00 , COST_S :    2.75 , REGU_H :  -87.55 , REGU_A :    0.42 
 OPTI, step   700 , ICE_VOL:   31.28 , COST_U:   12.94 , COST_H:   13.17 , COST_D :    0.00 , COST_S :    2.86 , REGU_H :  -87.77 , REGU_A :    0.40 
 OPTI, step   750 , ICE_VOL:   31.30 , COST_U:   12.45 , COST_H:   13.22 , COST_D :    0.00 , COST_S :    2.96 , REGU_H :  -87.95 , REGU_A :    0.38 
 OPTI, step   800 , ICE_VOL:   31.30 , COST_U:   12.02 , COST_H:   13.25 , COST_D :    0.00 , COST_S :    3.05 , REGU_H :  -88.10 , REGU_A :    0.36 
 OPTI, step   850 , ICE_VOL:   31.31 , COST_U:   11.64 , COST_H:   13.26 , COST_D :    0.00 , COST_S :    3.14 , REGU_H :  -88.24 , REGU_A :    0.34 
 OPTI, step   900 , ICE_VOL:   31.30 , COST_U:   11.33 , COST_H:   13.27 , COST_D :    0.00 , COST_S :    3.21 , REGU_H :  -88.36 , REGU_A :    0.32 
 OPTI, step   950 , ICE_VOL:   31.30 , COST_U:   11.08 , COST_H:   13.26 , COST_D :    0.00 , COST_S :    3.27 , REGU_H :  -88.45 , REGU_A :    0.31 
 OPTI, step  1000 , ICE_VOL:   31.29 , COST_U:   10.87 , COST_H:   13.25 , COST_D :    0.00 , COST_S :    3.32 , REGU_H :  -88.53 , REGU_A :    0.30 
 OPTI, step  1050 , ICE_VOL:   31.28 , COST_U:   10.66 , COST_H:   13.23 , COST_D :    0.00 , COST_S :    3.37 , REGU_H :  -88.59 , REGU_A :    0.29 
 OPTI, step  1100 , ICE_VOL:   31.27 , COST_U:   10.49 , COST_H:   13.20 , COST_D :    0.00 , COST_S :    3.41 , REGU_H :  -88.64 , REGU_A :    0.28 
 OPTI, step  1150 , ICE_VOL:   31.26 , COST_U:   10.35 , COST_H:   13.18 , COST_D :    0.00 , COST_S :    3.44 , REGU_H :  -88.68 , REGU_A :    0.27 
 OPTI, step  1200 , ICE_VOL:   31.25 , COST_U:   10.22 , COST_H:   13.15 , COST_D :    0.00 , COST_S :    3.47 , REGU_H :  -88.70 , REGU_A :    0.27 
 OPTI, step  1250 , ICE_VOL:   31.24 , COST_U:   10.11 , COST_H:   13.13 , COST_D :    0.00 , COST_S :    3.49 , REGU_H :  -88.72 , REGU_A :    0.27 
 OPTI, step  1300 , ICE_VOL:   31.23 , COST_U:   10.02 , COST_H:   13.11 , COST_D :    0.00 , COST_S :    3.52 , REGU_H :  -88.73 , REGU_A :    0.26 
 OPTI, step  1350 , ICE_VOL:   31.22 , COST_U:    9.93 , COST_H:   13.08 , COST_D :    0.00 , COST_S :    3.54 , REGU_H :  -88.74 , REGU_A :    0.26 
 OPTI, step  1400 , ICE_VOL:   31.21 , COST_U:    9.84 , COST_H:   13.07 , COST_D :    0.00 , COST_S :    3.56 , REGU_H :  -88.76 , REGU_A :    0.26 
 OPTI, step  1450 , ICE_VOL:   31.20 , COST_U:    9.76 , COST_H:   13.06 , COST_D :    0.00 , COST_S :    3.57 , REGU_H :  -88.77 , REGU_A :    0.25 
 OPTI, step  1500 , ICE_VOL:   31.20 , COST_U:    9.69 , COST_H:   13.05 , COST_D :    0.00 , COST_S :    3.59 , REGU_H :  -88.78 , REGU_A :    0.25 
 OPTI, step  1550 , ICE_VOL:   31.19 , COST_U:    9.62 , COST_H:   13.04 , COST_D :    0.00 , COST_S :    3.61 , REGU_H :  -88.80 , REGU_A :    0.25 
 OPTI, step  1600 , ICE_VOL:   31.19 , COST_U:    9.55 , COST_H:   13.04 , COST_D :    0.00 , COST_S :    3.62 , REGU_H :  -88.81 , REGU_A :    0.25 
 OPTI, step  1650 , ICE_VOL:   31.19 , COST_U:    9.48 , COST_H:   13.03 , COST_D :    0.00 , COST_S :    3.64 , REGU_H :  -88.82 , REGU_A :    0.25 
 OPTI, step  1700 , ICE_VOL:   31.18 , COST_U:    9.41 , COST_H:   13.02 , COST_D :    0.00 , COST_S :    3.65 , REGU_H :  -88.83 , REGU_A :    0.25 
 OPTI, step  1750 , ICE_VOL:   31.18 , COST_U:    9.35 , COST_H:   13.02 , COST_D :    0.00 , COST_S :    3.66 , REGU_H :  -88.84 , REGU_A :    0.24 
 OPTI, step  1800 , ICE_VOL:   31.18 , COST_U:    9.29 , COST_H:   13.00 , COST_D :    0.00 , COST_S :    3.67 , REGU_H :  -88.85 , REGU_A :    0.24 
 OPTI, step  1850 , ICE_VOL:   31.17 , COST_U:    9.23 , COST_H:   12.99 , COST_D :    0.00 , COST_S :    3.68 , REGU_H :  -88.85 , REGU_A :    0.24 
 OPTI, step  1900 , ICE_VOL:   31.16 , COST_U:    9.19 , COST_H:   12.98 , COST_D :    0.00 , COST_S :    3.69 , REGU_H :  -88.85 , REGU_A :    0.24 
 OPTI, step  1950 , ICE_VOL:   31.16 , COST_U:    9.14 , COST_H:   12.98 , COST_D :    0.00 , COST_S :    3.69 , REGU_H :  -88.86 , REGU_A :    0.24 
Traceback (most recent call last):
  File "basal.py", line 71, in <module>
    np.savetxt(output_dir + 'sliding_velocity_magnitude.txt', Ub)
  File "<__array_function__ internals>", line 180, in savetxt
  File "/projects/etpi5866/software/anaconda/envs/igm/lib/python3.8/site-packages/numpy/lib/npyio.py", line 1523, in savetxt
    open(fname, 'wt').close()
FileNotFoundError: [Errno 2] No such file or directory: './outputs/production/03/sliding_velocity_magnitude.txt'
